---
const currentPath = Astro.url.pathname;
---

<nav>
	<ul>
		<li class={currentPath === '/my_profile/' ? 'current no-link' : ''}>
			{currentPath === '/my_profile/' ? <span>Top</span> : <a href='/my_profile/'>Top</a>}
		</li>
		<li class={currentPath === '/my_profile/posts' ? 'current no-link' : ''}>
			{currentPath === '/my_profile/posts' ? <span>Blog</span> : <a href='/my_profile/posts'>Blog</a>}
		</li>
		<li class={currentPath === '/my_profile/portfolio' ? 'current no-link' : ''}>
			{currentPath === '/my_profile/portfolio' ? <span>Portfolio</span> : <a href='/my_profile/portfolio'>Portfolio</a>}
		</li>
		<li class={currentPath === '/my_profile/profile' ? 'current no-link' : ''}>
			{currentPath === '/my_profile/profile' ? <span>Profile</span> : <a href='/my_profile/profile'>Profile</a>}
		</li>
	</ul>
</nav>

<style>
	@import url('https://fonts.googleapis.com/css2?family=Anton+SC&family=Bungee&family=Geist+Mono:wght@100..900&family=M+PLUS+1+Code:wght@100..700&family=Murecho:wght@100..900&family=Oswald:wght@200..700&family=Sawarabi+Gothic&family=Slackside+One&family=Zen+Kurenaido&display=swap');
	ul {
		font-family: 'Geist Mono', monospace;
		font-weight: 100;
		display: flex;
		justify-content: space-around;
		flex-wrap: wrap; /*スマホ表示折り返し用なのでPCのみなら不要*/
		margin: 0 0 2rem 0;
		list-style: none;
	}

	ul li a {
		font-weight: 500;
		display: block;
		padding: 10px 30px;
		text-decoration: none;
		color: #7c7c7c;
	}

	ul li {
		font-weight: 700;
		font-size: 1.1em;
		text-shadow: 0.2px 0.4px 0.6px #535353;
		margin-bottom: 20px;
	}

	ul li a {
		/*線の基点とするためrelativeを指定*/
		position: relative;
	}

	ul li.current a,
	ul li a:hover {
		font-weight: 600;
		color: #5c5c5c;
	}

	ul li a::after {
		content: '';
		/*絶対配置で線の位置を決める*/
		position: absolute;
		bottom: 5px;
		left: 10%;
		/*線の形状*/
		width: 80%;
		height: 1.5px;
		background: #838383;
		/*アニメーションの指定*/
		transition: all 0.3s;
		transform: scale(0, 1); /*X方向0、Y方向1*/
		transform-origin: center top; /*上部中央基点*/
	}

	/*現在地とhoverの設定*/
	ul li.current a::after,
	ul li a:hover::after {
		transform: scale(1, 1.2); /*X方向にスケール拡大*/
	}

	li {
		display: flex;
		align-items: center;
		flex-direction: column;
	}

	/* 現在のページのスタイル */
	li.current span {
		font-weight: 500;
		display: block;
		padding: 10px 30px;
		color: #5c5c5c;
		cursor: default;
	}

	li.current::after {
		content: '';
		position: absolute;
		top: 2.5rem;
		height: 2px;
		width: 7px;
		border-radius: 50%;
		border-top: 7px solid #666666;
		animation: dotAnimation 0.2s linear;
	}

	@keyframes dotAnimation {
		0% {
			opacity: 0;
			transform: scale(0);
		}
		100% {
			opacity: 1;
			transform: scale(1);
		}
	}

	/* no-linkクラスのスタイル */
	/* .no-link span::after {
		content: '';
		position: absolute;
		bottom: 5px;
		left: 10%;
		width: 80%;
		height: 1.5px;
		background: #838383;
		transform: scale(1, 1.2);
	} */
</style>
